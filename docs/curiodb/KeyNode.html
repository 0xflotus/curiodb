<!DOCTYPE html >
<html>
        <head>
          <title>KeyNode - curiodb.KeyNode</title>
          <meta name="description" content="KeyNode - curiodb.KeyNode" />
          <meta name="keywords" content="KeyNode curiodb.KeyNode" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../lib/template.js"></script>
      <script type="text/javascript" src="../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../index.html';
            var hash = 'curiodb.KeyNode';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="type">
      <div id="definition">
        <img alt="Class" src="../lib/class_big.png" />
        <p id="owner"><a href="package.html" class="extype" name="curiodb">curiodb</a></p>
        <h1>KeyNode</h1><h3><span class="morelinks"><div>Related Doc:
            <a href="package.html" class="extype" name="curiodb">package curiodb</a>
          </div></span></h3><span class="permalink">
      <a href="../index.html#curiodb.KeyNode" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <span class="name">KeyNode</span><span class="result"> extends <a href="Node.html" class="extype" name="curiodb.Node">Node</a>[<span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]] with <a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a> with <a href="ScriptingServer.html" class="extype" name="curiodb.ScriptingServer">ScriptingServer</a></span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><p>A KeyNode is a special type of Node in the system. It does not
represent any key/value provided by a client, but instead is
responsible for managing the keyspace for a subset of keys in its
value field, which contains a map of DB names, mapped to keys,
mapped to nodes, where each node is represented by a NodeEntry.
KeyNode takes on the role of a Node, as there are a variety of
commands that logically belong to it.</p><p>When a ClientNode (the other special type of node, responsble
for handling a single client) receives a command for a particular
key, the command is first routed to the KeyNode responsible for that
key. The KeyNode maps each key to an ActorRef for the key's actual
node (StringNode, ListNode, etc), having first created the Node
actor at some point (this actually occurs when the key/node doesn't
exist and, a command is run that doesn't have a default defined, and
writes, as per in commands.conf), and forwards each command onto the
Node when received. The routing strategy used is configurable via
Akka (actor.deployment./keys.router in application.conf),
defaulting to the consistent-hashing-pool router.</p><p>A KeyNode also handles many commands itself that deal with key
management, such as deleting, persisting, and expiring keys.
Each NodeEntry instance stores a Option(Long/Cancellable) pair
which if expiring, contains the timestamp of when the expiry will
occur, and the Cancellable task that will actually run, deleting
the node. Deletion of a node (either via expiry or the DEL command)
simply sends a message to the Node actor which when received,
shuts down the actor, and then removes the key and NodeEntry from
the keyspace map.</p><p>Lastly worthy of discussion is a feature that Redis does not
provide, virtual memory, which simply allows a Node to persist
its value to disk, and shut down after a period of time (defined by
the curiodb.sleep-after duration value in reference.conf). The
difference between this occurring and a Node being deleted, is that
the key and NodeEntry is kept in the keyspace map. This is also why
the ActorRef for each Node in a NodeEntry is an Option - a value of
None indicates a sleeping Node. When a command is run against a key
mapped to a sleeping Node, a new Node actor is created, which will
read its previous value from disk. The idea here is to allow more
data to be stored in the system than can fit in memory.
</p></div><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><a href="ScriptingServer.html" class="extype" name="curiodb.ScriptingServer">ScriptingServer</a>, <a href="Scripting.html" class="extype" name="curiodb.Scripting">Scripting</a>, <a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a>, <a href="Node.html" class="extype" name="curiodb.Node">Node</a>[<span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]], <span class="extype" name="akka.actor.ActorLogging">ActorLogging</span>, <a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a>, <span class="extype" name="akka.persistence.PersistentActor">PersistentActor</span>, <span class="extype" name="akka.persistence.Eventsourced">Eventsourced</span>, <span class="extype" name="akka.persistence.PersistenceRecovery">PersistenceRecovery</span>, <span class="extype" name="akka.persistence.PersistenceIdentity">PersistenceIdentity</span>, <span class="extype" name="akka.actor.StashFactory">StashFactory</span>, <span class="extype" name="akka.actor.Stash">Stash</span>, <span class="extype" name="akka.dispatch.RequiresMessageQueue">RequiresMessageQueue</span>[<span class="extype" name="akka.dispatch.DequeBasedMessageQueueSemantics">DequeBasedMessageQueueSemantics</span>], <span class="extype" name="akka.actor.UnrestrictedStash">UnrestrictedStash</span>, <span class="extype" name="akka.actor.StashSupport">StashSupport</span>, <span class="extype" name="akka.persistence.Snapshotter">Snapshotter</span>, <span class="extype" name="akka.actor.Actor">Actor</span>, <span class="extype" name="scala.AnyRef">AnyRef</span>, <span class="extype" name="scala.Any">Any</span></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="curiodb.KeyNode"><span>KeyNode</span></li><li class="in" name="curiodb.ScriptingServer"><span>ScriptingServer</span></li><li class="in" name="curiodb.Scripting"><span>Scripting</span></li><li class="in" name="curiodb.PubSubServer"><span>PubSubServer</span></li><li class="in" name="curiodb.Node"><span>Node</span></li><li class="in" name="akka.actor.ActorLogging"><span>ActorLogging</span></li><li class="in" name="curiodb.CommandProcessing"><span>CommandProcessing</span></li><li class="in" name="akka.persistence.PersistentActor"><span>PersistentActor</span></li><li class="in" name="akka.persistence.Eventsourced"><span>Eventsourced</span></li><li class="in" name="akka.persistence.PersistenceRecovery"><span>PersistenceRecovery</span></li><li class="in" name="akka.persistence.PersistenceIdentity"><span>PersistenceIdentity</span></li><li class="in" name="akka.actor.StashFactory"><span>StashFactory</span></li><li class="in" name="akka.actor.Stash"><span>Stash</span></li><li class="in" name="akka.dispatch.RequiresMessageQueue"><span>RequiresMessageQueue</span></li><li class="in" name="akka.actor.UnrestrictedStash"><span>UnrestrictedStash</span></li><li class="in" name="akka.actor.StashSupport"><span>StashSupport</span></li><li class="in" name="akka.persistence.Snapshotter"><span>Snapshotter</span></li><li class="in" name="akka.actor.Actor"><span>Actor</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show all</span></li>
            </ol>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        <div id="constructors" class="members">
              <h3>Instance Constructors</h3>
              <ol><li name="curiodb.KeyNode#&lt;init&gt;" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="&lt;init&gt;():curiodb.KeyNode"></a>
      <a id="&lt;init&gt;:KeyNode"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">new</span>
      </span>
      <span class="symbol">
        <span class="name">KeyNode</span><span class="params">()</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@&lt;init&gt;():curiodb.KeyNode" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="curiodb.CommandProcessing.CommandRunner" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="CommandRunner=PartialFunction[String,Any]"></a>
      <a id="CommandRunner:CommandRunner"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">type</span>
      </span>
      <span class="symbol">
        <span class="name">CommandRunner</span><span class="result"> = <span class="extype" name="scala.PartialFunction">PartialFunction</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.Any">Any</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@CommandRunner=PartialFunction[String,Any]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Signature for the partial function CommandRunner that actually
handles each command.</p><div class="fullcomment"><div class="comment cmt"><p>Signature for the partial function CommandRunner that actually
handles each command. Every Node must implement the &quot;run&quot; method
of this type (this requirement is actually codified in the base
Node class). It takes a case statement mapping command names to
the code that handles them - typically handled inline, or via a
method if more complex. The result will then be sent back to the
calling ClientNode, and converted into a Redis response before
being sent back to the client socket. One special case is the
handler returning Unit, in which case no response is sent back,
in which case it's up to the handling code to manually send a
response back to the client node. A common example of this is all
of the aggregation commands, which need to coordinate with
multiple nodes before calculating a response. But the bulk
of commands are simple one-liners directly returning a response.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.KeyNode.DB" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="DB=scala.collection.mutable.Map[String,curiodb.NodeEntry]"></a>
      <a id="DB:DB"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">type</span>
      </span>
      <span class="symbol">
        <span class="name">DB</span><span class="result"> = <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@DB=scala.collection.mutable.Map[String,curiodb.NodeEntry]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Alias for keys mapped to each NodeEntry.</p>
    </li><li name="akka.actor.Actor.Receive" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="Receive=akka.actor.Actor.Receive"></a>
      <a id="Receive:Receive"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">type</span>
      </span>
      <span class="symbol">
        <span class="name">Receive</span><span class="result"> = <span class="extype" name="scala.PartialFunction">PartialFunction</span>[<span class="extype" name="scala.Any">Any</span>, <span class="extype" name="scala.Unit">Unit</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@Receive=akka.actor.Actor.Receive" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Actor</dd></dl></div>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="scala.AnyRef#!=" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="!=(x$1:Any):Boolean"></a>
      <a id="!=(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $bang$eq" class="name">!=</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@!=(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef###" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="##():Int"></a>
      <a id="##():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $hash$hash" class="name">##</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@##():Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#==" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="==(x$1:Any):Boolean"></a>
      <a id="==(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $eq$eq" class="name">==</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@==(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="curiodb.CommandProcessing#aggregate" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="aggregate(props:akka.actor.Props):Unit"></a>
      <a id="aggregate(Props):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">aggregate</span><span class="params">(<span name="props">props: <span class="extype" name="akka.actor.Props">Props</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@aggregate(props:akka.actor.Props):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Shortcut for creating Aggregate actors.</p><div class="fullcomment"><div class="comment cmt"><p>Shortcut for creating Aggregate actors.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.CommandProcessing#args" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="args:Seq[String]"></a>
      <a id="args:Seq[String]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">args</span><span class="result">: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@args:Seq[String]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Shortcut to the args of the current command.</p><div class="fullcomment"><div class="comment cmt"><p>Shortcut to the args of the current command.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#aroundPostRestart" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="aroundPostRestart(reason:Throwable):Unit"></a>
      <a id="aroundPostRestart(Throwable):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">aroundPostRestart</span><span class="params">(<span name="reason">reason: <span class="extype" name="scala.Throwable">Throwable</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@aroundPostRestart(reason:Throwable):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../akka/package.html" class="extype" name="akka">akka</a>] </dd><dt>Definition Classes</dt><dd>Eventsourced → Actor</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#aroundPostStop" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="aroundPostStop():Unit"></a>
      <a id="aroundPostStop():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">aroundPostStop</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@aroundPostStop():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../akka/package.html" class="extype" name="akka">akka</a>] </dd><dt>Definition Classes</dt><dd>Eventsourced → Actor</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#aroundPreRestart" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="aroundPreRestart(reason:Throwable,message:Option[Any]):Unit"></a>
      <a id="aroundPreRestart(Throwable,Option[Any]):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">aroundPreRestart</span><span class="params">(<span name="reason">reason: <span class="extype" name="scala.Throwable">Throwable</span></span>, <span name="message">message: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Any">Any</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@aroundPreRestart(reason:Throwable,message:Option[Any]):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../akka/package.html" class="extype" name="akka">akka</a>] </dd><dt>Definition Classes</dt><dd>Eventsourced → Actor</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#aroundPreStart" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="aroundPreStart():Unit"></a>
      <a id="aroundPreStart():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">aroundPreStart</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@aroundPreStart():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../akka/package.html" class="extype" name="akka">akka</a>] </dd><dt>Definition Classes</dt><dd>Eventsourced → Actor</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#aroundReceive" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="aroundReceive(receive:Eventsourced.this.Receive,message:Any):Unit"></a>
      <a id="aroundReceive(Receive,Any):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">aroundReceive</span><span class="params">(<span name="receive">receive: <a href="#Receive=akka.actor.Actor.Receive" class="extmbr" name="curiodb.KeyNode.Receive">Receive</a></span>, <span name="message">message: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@aroundReceive(receive:Eventsourced.this.Receive,message:Any):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../akka/package.html" class="extype" name="akka">akka</a>] </dd><dt>Definition Classes</dt><dd>Eventsourced → Actor</dd></dl></div>
    </li><li name="scala.Any#asInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="asInstanceOf[T0]:T0"></a>
      <a id="asInstanceOf[T0]:T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Any.asInstanceOf.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@asInstanceOf[T0]:T0" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="curiodb.KeyNode#beginTransaction" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="beginTransaction():Any"></a>
      <a id="beginTransaction():Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">beginTransaction</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@beginTransaction():Any" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Overridden so that we can add the keys for this transaction to
transactionKeys, and run forwardTransactionToNodes.</p><div class="fullcomment"><div class="comment cmt"><p>Overridden so that we can add the keys for this transaction to
transactionKeys, and run forwardTransactionToNodes.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.CommandProcessing#bounds" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="bounds(from:Int,to:Int,size:Int):(Int,Int)"></a>
      <a id="bounds(Int,Int,Int):(Int,Int)"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">bounds</span><span class="params">(<span name="from">from: <span class="extype" name="scala.Int">Int</span></span>, <span name="to">to: <span class="extype" name="scala.Int">Int</span></span>, <span name="size">size: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: (<span class="extype" name="scala.Int">Int</span>, <span class="extype" name="scala.Int">Int</span>)</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@bounds(from:Int,to:Int,size:Int):(Int,Int)" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Utility for handling boundary args that wrap around ends of
sequences and count backwards when negative.</p><div class="fullcomment"><div class="comment cmt"><p>Utility for handling boundary args that wrap around ends of
sequences and count backwards when negative.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.PubSubServer#channels" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="channels:scala.collection.mutable.Map[String,scala.collection.mutable.Set[akka.actor.ActorRef]]"></a>
      <a id="channels:Map[String,Set[ActorRef]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">lazy val</span>
      </span>
      <span class="symbol">
        <span class="name">channels</span><span class="result">: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Set">Set</span>[<span class="extype" name="akka.actor.ActorRef">ActorRef</span>]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@channels:scala.collection.mutable.Map[String,scala.collection.mutable.Set[akka.actor.ActorRef]]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Client subscriptions to channels.</p><div class="fullcomment"><div class="comment cmt"><p>Client subscriptions to channels.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a></dd></dl></div>
    </li><li name="scala.AnyRef#clone" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="clone():Object"></a>
      <a id="clone():AnyRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">clone</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@clone():Object" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.CloneNotSupportedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="curiodb.KeyNode#cloneValue" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="cloneValue:scala.collection.mutable.Map[String,scala.collection.mutable.Map[String,curiodb.NodeEntry]]"></a>
      <a id="cloneValue:Map[String,Map[String,NodeEntry]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">cloneValue</span><span class="result">: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@cloneValue:scala.collection.mutable.Map[String,scala.collection.mutable.Map[String,curiodb.NodeEntry]]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Deep clone which drills down into each DB, and copies all its
entries.</p><div class="fullcomment"><div class="comment cmt"><p>Deep clone which drills down into each DB, and copies all its
entries.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.KeyNode#closeTransaction" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="closeTransaction(clientId:String,committing:Boolean):Option[scala.collection.mutable.Map[String,scala.collection.mutable.Map[String,curiodb.NodeEntry]]]"></a>
      <a id="closeTransaction(String,Boolean):Option[Map[String,Map[String,NodeEntry]]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">closeTransaction</span><span class="params">(<span name="clientId">clientId: <span class="extype" name="scala.Predef.String">String</span> = <span class="symbol"><span class="name"><a href="CommandProcessing.html#command:curiodb.Command">command.clientId</a></span></span></span>, <span name="committing">committing: <span class="extype" name="scala.Boolean">Boolean</span> = <span class="symbol">false</span></span>)</span><span class="result">: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@closeTransaction(clientId:String,committing:Boolean):Option[scala.collection.mutable.Map[String,scala.collection.mutable.Map[String,curiodb.NodeEntry]]]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Overridden so that we can clean up transactionKeys, and unstash
any write commands that were previously stashed due to conflicting
with keys in an existing transaction.</p><div class="fullcomment"><div class="comment cmt"><p>Overridden so that we can clean up transactionKeys, and unstash
any write commands that were previously stashed due to conflicting
with keys in an existing transaction.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.CommandProcessing#command" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="command:curiodb.Command"></a>
      <a id="command:Command"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">command</span><span class="result">: <a href="Command.html" class="extype" name="curiodb.Command">Command</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@command:curiodb.Command" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">The current command - normally will be set when a Command
arrives via the actor's receive method.</p><div class="fullcomment"><div class="comment cmt"><p>The current command - normally will be set when a Command
arrives via the actor's receive method.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.KeyNode#commandCreatedInTransaction" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="commandCreatedInTransaction():Unit"></a>
      <a id="commandCreatedInTransaction():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">commandCreatedInTransaction</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@commandCreatedInTransaction():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Resets the current command to a copy of itself with the
createdInTransaction flag set to true.</p><div class="fullcomment"><div class="comment cmt"><p>Resets the current command to a copy of itself with the
createdInTransaction flag set to true. The Node actor
that receives this command will then use it to set up
its own transaction handling.
</p></div></div>
    </li><li name="curiodb.CommandProcessing#commandTimeout" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="commandTimeout:Int"></a>
      <a id="commandTimeout:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">commandTimeout</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@commandTimeout:Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Timeout for a single command.</p><div class="fullcomment"><div class="comment cmt"><p>Timeout for a single command. Used by ClientNode to schedule
timeout handlers for commands, and also in ScriptRunner to
determine what the timeout for a Lua script should be.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.KeyNode#commitTransaction" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="commitTransaction():Any"></a>
      <a id="commitTransaction():Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">commitTransaction</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@commitTransaction():Any" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Overridden so that we can migrate the DB in the transaction map,
specifically handling the case of keys marked as deleted, as this
is the stage where they're permananely deleted as they would be
outside of a transaction.</p><div class="fullcomment"><div class="comment cmt"><p>Overridden so that we can migrate the DB in the transaction map,
specifically handling the case of keys marked as deleted, as this
is the stage where they're permananely deleted as they would be
outside of a transaction.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.Scripting#compileScript" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="compileScript(uncompiled:String,onSuccess:org.luaj.vm2.Prototype=&gt;Any):Any"></a>
      <a id="compileScript(String,(Prototype)⇒Any):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">compileScript</span><span class="params">(<span name="uncompiled">uncompiled: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="onSuccess">onSuccess: (<span class="extype" name="org.luaj.vm2.Prototype">Prototype</span>) ⇒ <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@compileScript(uncompiled:String,onSuccess:org.luaj.vm2.Prototype=&gt;Any):Any" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Compiles a Lua script given by a command, and runs a success
function when successful - storing it in the case of LOAD SCRIPT
on a KeyNode, or running it in the case of EVAL on a CLientNode.</p><div class="fullcomment"><div class="comment cmt"><p>Compiles a Lua script given by a command, and runs a success
function when successful - storing it in the case of LOAD SCRIPT
on a KeyNode, or running it in the case of EVAL on a CLientNode.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Scripting.html" class="extype" name="curiodb.Scripting">Scripting</a></dd></dl></div>
    </li><li name="akka.actor.Actor#context" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="context:akka.actor.ActorContext"></a>
      <a id="context:ActorContext"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">implicit </span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">context</span><span class="result">: <span class="extype" name="akka.actor.ActorContext">ActorContext</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@context:akka.actor.ActorContext" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Actor</dd></dl></div>
    </li><li name="curiodb.KeyNode#create" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="create(dbName:String,key:String,kind:String,recovery:Boolean):Option[akka.actor.ActorRef]"></a>
      <a id="create(String,String,String,Boolean):Option[ActorRef]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">create</span><span class="params">(<span name="dbName">dbName: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="key">key: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="kind">kind: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="recovery">recovery: <span class="extype" name="scala.Boolean">Boolean</span> = <span class="symbol">false</span></span>)</span><span class="result">: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="akka.actor.ActorRef">ActorRef</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@create(dbName:String,key:String,kind:String,recovery:Boolean):Option[akka.actor.ActorRef]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Creates a new Node actor for the given DB name, key and node type.</p><div class="fullcomment"><div class="comment cmt"><p>Creates a new Node actor for the given DB name, key and node type.
The recovery arg is set to true when the KeyNode first starts
and restores its keyspace from disk, otherwise (the default)
we persists the keyspace to disk.
</p></div></div>
    </li><li name="curiodb.KeyNode#db" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="db(name:String):KeyNode.this.DB"></a>
      <a id="db(String):DB"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">db</span><span class="params">(<span name="name">name: <span class="extype" name="scala.Predef.String">String</span> = <span class="symbol"><span class="name"><a href="CommandProcessing.html#command:curiodb.Command">command.db</a></span></span></span>)</span><span class="result">: <a href="#DB=scala.collection.mutable.Map[String,curiodb.NodeEntry]" class="extmbr" name="curiodb.KeyNode.DB">DB</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@db(name:String):KeyNode.this.DB" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Shortcut for grabbing the String/NodeEntry map (aka DB) for the
given DB name, or the current command.</p>
    </li><li name="curiodb.CommandProcessing#debug" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="debug:Boolean"></a>
      <a id="debug:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">debug</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@debug:Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Flag that enables detailed command debugging.</p><div class="fullcomment"><div class="comment cmt"><p>Flag that enables detailed command debugging.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#deferAsync" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="deferAsync[A](event:A)(handler:A=&gt;Unit):Unit"></a>
      <a id="deferAsync[A](A)((A)⇒Unit):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">deferAsync</span><span class="tparams">[<span name="A">A</span>]</span><span class="params">(<span name="event">event: <span class="extype" name="akka.persistence.Eventsourced.deferAsync.A">A</span></span>)</span><span class="params">(<span name="handler">handler: (<span class="extype" name="akka.persistence.Eventsourced.deferAsync.A">A</span>) ⇒ <span class="extype" name="scala.Unit">Unit</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@deferAsync[A](event:A)(handler:A=&gt;Unit):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="curiodb.KeyNode#delete" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="delete(key:String,dbName:Option[String]):Boolean"></a>
      <a id="delete(String,Option[String]):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">delete</span><span class="params">(<span name="key">key: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="dbName">dbName: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Predef.String">String</span>] = <span class="symbol">None</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@delete(key:String,dbName:Option[String]):Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Deletes a Node.</p>
    </li><li name="akka.persistence.Eventsourced#deleteMessages" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="deleteMessages(toSequenceNr:Long):Unit"></a>
      <a id="deleteMessages(Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">deleteMessages</span><span class="params">(<span name="toSequenceNr">toSequenceNr: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@deleteMessages(toSequenceNr:Long):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="curiodb.Node#deleteOldSnapshots" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="deleteOldSnapshots(stopping:Boolean):Unit"></a>
      <a id="deleteOldSnapshots(Boolean):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">deleteOldSnapshots</span><span class="params">(<span name="stopping">stopping: <span class="extype" name="scala.Boolean">Boolean</span> = <span class="symbol">false</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@deleteOldSnapshots(stopping:Boolean):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Deletes old snapshots after a new one is saved.</p><div class="fullcomment"><div class="comment cmt"><p>Deletes old snapshots after a new one is saved.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="akka.persistence.Snapshotter#deleteSnapshot" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="deleteSnapshot(sequenceNr:Long):Unit"></a>
      <a id="deleteSnapshot(Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">deleteSnapshot</span><span class="params">(<span name="sequenceNr">sequenceNr: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@deleteSnapshot(sequenceNr:Long):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Snapshotter</dd></dl></div>
    </li><li name="akka.persistence.Snapshotter#deleteSnapshots" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="deleteSnapshots(criteria:akka.persistence.SnapshotSelectionCriteria):Unit"></a>
      <a id="deleteSnapshots(SnapshotSelectionCriteria):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">deleteSnapshots</span><span class="params">(<span name="criteria">criteria: <span class="extype" name="akka.persistence.SnapshotSelectionCriteria">SnapshotSelectionCriteria</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@deleteSnapshots(criteria:akka.persistence.SnapshotSelectionCriteria):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Snapshotter</dd></dl></div>
    </li><li name="curiodb.CommandProcessing#durationSetting" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="durationSetting(name:String):Int"></a>
      <a id="durationSetting(String):Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">durationSetting</span><span class="params">(<span name="name">name: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@durationSetting(name:String):Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Retrieves a duration config setting as milliseconds, and handles
the value not being a duration value, so we can do something like
set it to &quot;off&quot;, in which case we default to 0.</p><div class="fullcomment"><div class="comment cmt"><p>Retrieves a duration config setting as milliseconds, and handles
the value not being a duration value, so we can do something like
set it to &quot;off&quot;, in which case we default to 0.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.KeyNode#emptyValue" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="emptyValue:scala.collection.mutable.Map[String,scala.collection.mutable.Map[String,curiodb.NodeEntry]]"></a>
      <a id="emptyValue:Map[String,Map[String,NodeEntry]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">emptyValue</span><span class="result">: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="java.lang.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="java.lang.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@emptyValue:scala.collection.mutable.Map[String,scala.collection.mutable.Map[String,curiodb.NodeEntry]]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">The actual value persisted for a KeyNode is a map of db names
to DB instances.</p><div class="fullcomment"><div class="comment cmt"><p>The actual value persisted for a KeyNode is a map of db names
to DB instances.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="scala.AnyRef#eq" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="eq(x$1:AnyRef):Boolean"></a>
      <a id="eq(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">eq</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.AnyRef">AnyRef</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@eq(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#equals" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="equals(x$1:Any):Boolean"></a>
      <a id="equals(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">equals</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@equals(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="curiodb.KeyNode#exists" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="exists(key:String):Boolean"></a>
      <a id="exists(String):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">exists</span><span class="params">(<span name="key">key: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@exists(key:String):Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Does the key exist - rather than using db.contains, we also
need to account for keys marked as deleted in a transaction.</p>
    </li><li name="curiodb.KeyNode#expire" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="expire(when:Long):Int"></a>
      <a id="expire(Long):Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">expire</span><span class="params">(<span name="when">when: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@expire(when:Long):Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Initiates expiry on a node when any of the relevant commands are
run, namely EXPIRE/PEXPIRE/EXPIREAT/PEXPIREAT, or when the
&quot;expire-after&quot; setting is configured.</p>
    </li><li name="curiodb.KeyNode#expireAfter" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="expireAfter:Int"></a>
      <a id="expireAfter:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">expireAfter</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@expireAfter:Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Milliseconds after which a Node automatically expires itself.</p>
    </li><li name="scala.AnyRef#finalize" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="finalize():Unit"></a>
      <a id="finalize():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">finalize</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@finalize():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="symbol">classOf[java.lang.Throwable]</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="curiodb.KeyNode#forwardTransactionToNodes" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="forwardTransactionToNodes():Any"></a>
      <a id="forwardTransactionToNodes():Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">forwardTransactionToNodes</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@forwardTransactionToNodes():Any" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Called by beginTransaction and commitTransaction when _MULTI and
_EXEC are received respectively, and handled both forwarding on
these commands, and returning TransactionAck responses indicating
the number of *invalid* keys received, so that the ClientNode
managing the transaction can account for all keys sent.</p><div class="fullcomment"><div class="comment cmt"><p>Called by beginTransaction and commitTransaction when _MULTI and
_EXEC are received respectively, and handled both forwarding on
these commands, and returning TransactionAck responses indicating
the number of *invalid* keys received, so that the ClientNode
managing the transaction can account for all keys sent. See
ClientNode.awaitTransactionAcks for more detail about this flow.
</p></div></div>
    </li><li name="scala.AnyRef#getClass" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="getClass():Class[_]"></a>
      <a id="getClass():Class[_]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getClass</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.Class">Class</span>[_]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@getClass():Class[_]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#hashCode" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="hashCode():Int"></a>
      <a id="hashCode():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">hashCode</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@hashCode():Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="curiodb.Node#inTransaction" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="inTransaction:Boolean"></a>
      <a id="inTransaction:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">inTransaction</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@inTransaction:Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Checks if the current Command is in a transaction.</p><div class="fullcomment"><div class="comment cmt"><p>Checks if the current Command is in a transaction.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="scala.Any#isInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="isInstanceOf[T0]:Boolean"></a>
      <a id="isInstanceOf[T0]:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@isInstanceOf[T0]:Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="curiodb.Node#isolationLevel" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="isolationLevel:String"></a>
      <a id="isolationLevel:String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">isolationLevel</span><span class="result">: <span class="extype" name="java.lang.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@isolationLevel:String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Transaction isolation level: &quot;repeatable&quot; reads, read &quot;committed&quot;,
or read &quot;uncommitted&quot;.</p><div class="fullcomment"><div class="comment cmt"><p>Transaction isolation level: &quot;repeatable&quot; reads, read &quot;committed&quot;,
or read &quot;uncommitted&quot;.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="akka.persistence.PersistenceIdentity#journalPluginId" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="journalPluginId:String"></a>
      <a id="journalPluginId:String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">journalPluginId</span><span class="result">: <span class="extype" name="scala.Predef.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@journalPluginId:String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>PersistenceIdentity</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#lastSequenceNr" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="lastSequenceNr:Long"></a>
      <a id="lastSequenceNr:Long"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">lastSequenceNr</span><span class="result">: <span class="extype" name="scala.Long">Long</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@lastSequenceNr:Long" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="curiodb.Node#lastSnapshot" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="lastSnapshot:Option[akka.persistence.SnapshotMetadata]"></a>
      <a id="lastSnapshot:Option[SnapshotMetadata]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">lastSnapshot</span><span class="result">: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="akka.persistence.SnapshotMetadata">SnapshotMetadata</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@lastSnapshot:Option[akka.persistence.SnapshotMetadata]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">The most recently saved snapshot.</p><div class="fullcomment"><div class="comment cmt"><p>The most recently saved snapshot. We store it on save and recover,
so that we can delete it (and any earlier snapshots) each time we
successfully save a new snapshot.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="akka.persistence.Snapshotter#loadSnapshot" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="loadSnapshot(persistenceId:String,criteria:akka.persistence.SnapshotSelectionCriteria,toSequenceNr:Long):Unit"></a>
      <a id="loadSnapshot(String,SnapshotSelectionCriteria,Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">loadSnapshot</span><span class="params">(<span name="persistenceId">persistenceId: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="criteria">criteria: <span class="extype" name="akka.persistence.SnapshotSelectionCriteria">SnapshotSelectionCriteria</span></span>, <span name="toSequenceNr">toSequenceNr: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@loadSnapshot(persistenceId:String,criteria:akka.persistence.SnapshotSelectionCriteria,toSequenceNr:Long):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Snapshotter</dd></dl></div>
    </li><li name="akka.actor.ActorLogging#log" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="log:akka.event.LoggingAdapter"></a>
      <a id="log:LoggingAdapter"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">log</span><span class="result">: <span class="extype" name="akka.event.LoggingAdapter">LoggingAdapter</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@log:akka.event.LoggingAdapter" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>ActorLogging</dd></dl></div>
    </li><li name="scala.AnyRef#ne" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ne(x$1:AnyRef):Boolean"></a>
      <a id="ne(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">ne</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.AnyRef">AnyRef</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@ne(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="curiodb.KeyNode#node" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="node():akka.actor.ActorRef"></a>
      <a id="node():ActorRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">node</span><span class="params">()</span><span class="result">: <span class="extype" name="akka.actor.ActorRef">ActorRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@node():akka.actor.ActorRef" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Shortcut for retrieving the ActorRef for the current Command.</p><div class="fullcomment"><div class="comment cmt"><p>Shortcut for retrieving the ActorRef for the current Command.
There are actually 5 states handled here:</p><p>1) No key, Command belongs to a KeyNode.
2) Key doesn't exist.
3) Key exists and Node actor is not running (it's asleep).
4) Key exists, Node is running.
5) Key exists, Node is running, but marked deleted in transaction.
</p></div></div>
    </li><li name="scala.AnyRef#notify" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notify():Unit"></a>
      <a id="notify():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notify</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@notify():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#notifyAll" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notifyAll():Unit"></a>
      <a id="notifyAll():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notifyAll</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@notifyAll():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="curiodb.CommandProcessing#numberToString" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="numberToString(n:Any):String"></a>
      <a id="numberToString(Any):String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">numberToString</span><span class="params">(<span name="n">n: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Predef.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@numberToString(n:Any):String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Utility for dropping extraneous zeros from floats when converting to
strings, for consistency with Redis' INCRBYFLOAT/HINCRBYFLOAT commands
and sorted set scores.</p><div class="fullcomment"><div class="comment cmt"><p>Utility for dropping extraneous zeros from floats when converting to
strings, for consistency with Redis' INCRBYFLOAT/HINCRBYFLOAT commands
and sorted set scores.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#onPersistFailure" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="onPersistFailure(cause:Throwable,event:Any,seqNr:Long):Unit"></a>
      <a id="onPersistFailure(Throwable,Any,Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">onPersistFailure</span><span class="params">(<span name="cause">cause: <span class="extype" name="scala.Throwable">Throwable</span></span>, <span name="event">event: <span class="extype" name="scala.Any">Any</span></span>, <span name="seqNr">seqNr: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@onPersistFailure(cause:Throwable,event:Any,seqNr:Long):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected </dd><dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#onPersistRejected" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="onPersistRejected(cause:Throwable,event:Any,seqNr:Long):Unit"></a>
      <a id="onPersistRejected(Throwable,Any,Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">onPersistRejected</span><span class="params">(<span name="cause">cause: <span class="extype" name="scala.Throwable">Throwable</span></span>, <span name="event">event: <span class="extype" name="scala.Any">Any</span></span>, <span name="seqNr">seqNr: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@onPersistRejected(cause:Throwable,event:Any,seqNr:Long):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected </dd><dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#onRecoveryFailure" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="onRecoveryFailure(cause:Throwable,event:Option[Any]):Unit"></a>
      <a id="onRecoveryFailure(Throwable,Option[Any]):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">onRecoveryFailure</span><span class="params">(<span name="cause">cause: <span class="extype" name="scala.Throwable">Throwable</span></span>, <span name="event">event: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Any">Any</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@onRecoveryFailure(cause:Throwable,event:Option[Any]):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected </dd><dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="curiodb.CommandProcessing#pattern" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="pattern(values:Iterable[String],pattern:String):Iterable[String]"></a>
      <a id="pattern(Iterable[String],String):Iterable[String]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">pattern</span><span class="params">(<span name="values">values: <span class="extype" name="scala.Iterable">Iterable</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>, <span name="pattern">pattern: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Iterable">Iterable</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@pattern(values:Iterable[String],pattern:String):Iterable[String]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Utility for glob-style filtering.</p><div class="fullcomment"><div class="comment cmt"><p>Utility for glob-style filtering.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.PubSubServer#patterns" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="patterns:scala.collection.mutable.Map[String,scala.collection.mutable.Set[akka.actor.ActorRef]]"></a>
      <a id="patterns:Map[String,Set[ActorRef]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">lazy val</span>
      </span>
      <span class="symbol">
        <span class="name">patterns</span><span class="result">: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Set">Set</span>[<span class="extype" name="akka.actor.ActorRef">ActorRef</span>]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@patterns:scala.collection.mutable.Map[String,scala.collection.mutable.Set[akka.actor.ActorRef]]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Client subscriptions to patterns.</p><div class="fullcomment"><div class="comment cmt"><p>Client subscriptions to patterns.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a></dd></dl></div>
    </li><li name="curiodb.KeyNode#persist" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="persist():Int"></a>
      <a id="persist():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">persist</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persist():Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Cancels expiry on a node when the PERSIST command is run.</p>
    </li><li name="akka.persistence.Eventsourced#persist" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persist[A](event:A)(handler:A=&gt;Unit):Unit"></a>
      <a id="persist[A](A)((A)⇒Unit):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">persist</span><span class="tparams">[<span name="A">A</span>]</span><span class="params">(<span name="event">event: <span class="extype" name="akka.persistence.Eventsourced.persist.A">A</span></span>)</span><span class="params">(<span name="handler">handler: (<span class="extype" name="akka.persistence.Eventsourced.persist.A">A</span>) ⇒ <span class="extype" name="scala.Unit">Unit</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persist[A](event:A)(handler:A=&gt;Unit):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="curiodb.Node#persistAfter" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persistAfter:Int"></a>
      <a id="persistAfter:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">persistAfter</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persistAfter:Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Stores the duration which controls the minimum delay between
receiving a command that writes, and persisting the actual value
written.</p><div class="fullcomment"><div class="comment cmt"><p>Stores the duration which controls the minimum delay between
receiving a command that writes, and persisting the actual value
written.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#persistAll" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persistAll[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit"></a>
      <a id="persistAll[A](Seq[A])((A)⇒Unit):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">persistAll</span><span class="tparams">[<span name="A">A</span>]</span><span class="params">(<span name="events">events: <span class="extype" name="scala.collection.immutable.Seq">Seq</span>[<span class="extype" name="akka.persistence.Eventsourced.persistAll.A">A</span>]</span>)</span><span class="params">(<span name="handler">handler: (<span class="extype" name="akka.persistence.Eventsourced.persistAll.A">A</span>) ⇒ <span class="extype" name="scala.Unit">Unit</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persistAll[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#persistAllAsync" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persistAllAsync[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit"></a>
      <a id="persistAllAsync[A](Seq[A])((A)⇒Unit):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">persistAllAsync</span><span class="tparams">[<span name="A">A</span>]</span><span class="params">(<span name="events">events: <span class="extype" name="scala.collection.immutable.Seq">Seq</span>[<span class="extype" name="akka.persistence.Eventsourced.persistAllAsync.A">A</span>]</span>)</span><span class="params">(<span name="handler">handler: (<span class="extype" name="akka.persistence.Eventsourced.persistAllAsync.A">A</span>) ⇒ <span class="extype" name="scala.Unit">Unit</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persistAllAsync[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#persistAsync" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persistAsync[A](event:A)(handler:A=&gt;Unit):Unit"></a>
      <a id="persistAsync[A](A)((A)⇒Unit):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">persistAsync</span><span class="tparams">[<span name="A">A</span>]</span><span class="params">(<span name="event">event: <span class="extype" name="akka.persistence.Eventsourced.persistAsync.A">A</span></span>)</span><span class="params">(<span name="handler">handler: (<span class="extype" name="akka.persistence.Eventsourced.persistAsync.A">A</span>) ⇒ <span class="extype" name="scala.Unit">Unit</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persistAsync[A](event:A)(handler:A=&gt;Unit):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="curiodb.Node#persistenceId" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persistenceId:String"></a>
      <a id="persistenceId:String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">persistenceId</span><span class="result">: <span class="extype" name="scala.Predef.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persistenceId:String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a> → PersistenceIdentity</dd></dl></div>
    </li><li name="curiodb.Node#persisting" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persisting:Boolean"></a>
      <a id="persisting:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">persisting</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persisting:Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Boolean representing whether we've scheduled an internal
Persist message, so that it only occurs once at a time
according to the duration configured by the curiodb.persist-after
setting.</p><div class="fullcomment"><div class="comment cmt"><p>Boolean representing whether we've scheduled an internal
Persist message, so that it only occurs once at a time
according to the duration configured by the curiodb.persist-after
setting.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="akka.actor.Actor#postRestart" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="postRestart(reason:Throwable):Unit"></a>
      <a id="postRestart(Throwable):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">postRestart</span><span class="params">(<span name="reason">reason: <span class="extype" name="scala.Throwable">Throwable</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@postRestart(reason:Throwable):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Actor</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="symbol">classOf[java.lang.Exception]</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="akka.actor.UnrestrictedStash#postStop" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="postStop():Unit"></a>
      <a id="postStop():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">postStop</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@postStop():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>UnrestrictedStash → Actor</dd></dl></div>
    </li><li name="akka.actor.UnrestrictedStash#preRestart" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="preRestart(reason:Throwable,message:Option[Any]):Unit"></a>
      <a id="preRestart(Throwable,Option[Any]):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">preRestart</span><span class="params">(<span name="reason">reason: <span class="extype" name="scala.Throwable">Throwable</span></span>, <span name="message">message: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Any">Any</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@preRestart(reason:Throwable,message:Option[Any]):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>UnrestrictedStash → Actor</dd></dl></div>
    </li><li name="akka.actor.Actor#preStart" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="preStart():Unit"></a>
      <a id="preStart():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">preStart</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@preStart():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Actor</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="symbol">classOf[java.lang.Exception]</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="curiodb.PubSubServer#publish" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="publish():Int"></a>
      <a id="publish():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">publish</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@publish():Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Sends a message that has been receieved (published) from a client,
to all matching subscriptions - either channels, or patterns.</p><div class="fullcomment"><div class="comment cmt"><p>Sends a message that has been receieved (published) from a client,
to all matching subscriptions - either channels, or patterns.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a></dd></dl></div>
    </li><li name="curiodb.CommandProcessing#randomItem" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="randomItem(iterable:Iterable[String]):String"></a>
      <a id="randomItem(Iterable[String]):String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">randomItem</span><span class="params">(<span name="iterable">iterable: <span class="extype" name="scala.Iterable">Iterable</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Predef.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@randomItem(iterable:Iterable[String]):String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Utility for selecting a random item.</p><div class="fullcomment"><div class="comment cmt"><p>Utility for selecting a random item.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.Node#receive" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="receive:Node.this.Receive"></a>
      <a id="receive:Receive"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">receive</span><span class="result">: <a href="#Receive=akka.actor.Actor.Receive" class="extmbr" name="curiodb.KeyNode.Receive">Receive</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@receive:Node.this.Receive" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a> → PersistentActor → Actor</dd></dl></div>
    </li><li name="curiodb.KeyNode#receiveCommand" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="receiveCommand:KeyNode.this.Receive"></a>
      <a id="receiveCommand:Receive"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">receiveCommand</span><span class="result">: <a href="#Receive=akka.actor.Actor.Receive" class="extmbr" name="curiodb.KeyNode.Receive">Receive</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@receiveCommand:KeyNode.this.Receive" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">We override the KeyNode actor's Receive so as to perform validation,
prior to the Node parent class Receive running, which wil call
CommandRunner for the KeyNode.</p><div class="fullcomment"><div class="comment cmt"><p>We override the KeyNode actor's Receive so as to perform validation,
prior to the Node parent class Receive running, which wil call
CommandRunner for the KeyNode.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a> → Eventsourced</dd></dl></div>
    </li><li name="curiodb.KeyNode#receiveRecover" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="receiveRecover:KeyNode.this.Receive"></a>
      <a id="receiveRecover:Receive"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">receiveRecover</span><span class="result">: <a href="#Receive=akka.actor.Actor.Receive" class="extmbr" name="curiodb.KeyNode.Receive">Receive</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@receiveRecover:KeyNode.this.Receive" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Restores the keyspace from disk on startup, creating each Node
actor.</p><div class="fullcomment"><div class="comment cmt"><p>Restores the keyspace from disk on startup, creating each Node
actor.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a> → Eventsourced</dd></dl></div>
    </li><li name="akka.persistence.PersistenceRecovery#recovery" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="recovery:akka.persistence.Recovery"></a>
      <a id="recovery:Recovery"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">recovery</span><span class="result">: <span class="extype" name="akka.persistence.Recovery">Recovery</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@recovery:akka.persistence.Recovery" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>PersistenceRecovery</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#recoveryFinished" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="recoveryFinished:Boolean"></a>
      <a id="recoveryFinished:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">recoveryFinished</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@recoveryFinished:Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#recoveryRunning" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="recoveryRunning:Boolean"></a>
      <a id="recoveryRunning:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">recoveryRunning</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@recoveryRunning:Boolean" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd></dl></div>
    </li><li name="curiodb.Node#rename" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="rename(fromValue:Any,toCommand:String):Unit"></a>
      <a id="rename(Any,String):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">rename</span><span class="params">(<span name="fromValue">fromValue: <span class="extype" name="scala.Any">Any</span></span>, <span name="toCommand">toCommand: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@rename(fromValue:Any,toCommand:String):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Handles the RENAME/RENAMENX commands for all node types.</p><div class="fullcomment"><div class="comment cmt"><p>Handles the RENAME/RENAMENX commands for all node types. Each
Node subclass is responsible for converting its value to something
that can be used by the relevant command given - this command
is typically implemented (and named) differently per node, and
knows how to accept fromValue. Renaming is basically a delete,
then create a new node, so we first delete ourselves (via the
internal _DEL command), then pass the fromValue arg with the given
command to what will be a newly created Node.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.CommandProcessing#respond" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="respond(response:Any):Unit"></a>
      <a id="respond(Any):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">respond</span><span class="params">(<span name="response">response: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@respond(response:Any):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Sends a Response (usually the result of a command) back to
the command's destination (usually a ClientNode sending a
Command).</p><div class="fullcomment"><div class="comment cmt"><p>Sends a Response (usually the result of a command) back to
the command's destination (usually a ClientNode sending a
Command).
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.CommandProcessing#route" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="route(input:Seq[Any],client:Option[akka.actor.ActorRef]):Unit"></a>
      <a id="route(Seq[Any],Option[ActorRef]):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">route</span><span class="params">(<span name="input">input: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="scala.Any">Any</span>]</span>, <span name="client">client: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="akka.actor.ActorRef">ActorRef</span>] = <span class="symbol">None</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@route(input:Seq[Any],client:Option[akka.actor.ActorRef]):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Shortcut route method for sending command input without a
constructed Command instance, using the state of the
current command (eg: db, clientID).</p><div class="fullcomment"><div class="comment cmt"><p>Shortcut route method for sending command input without a
constructed Command instance, using the state of the
current command (eg: db, clientID).
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.CommandProcessing#route" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="route(command:curiodb.Command):Unit"></a>
      <a id="route(Command):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">route</span><span class="params">(<span name="command">command: <a href="Command.html" class="extype" name="curiodb.Command">Command</a></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@route(command:curiodb.Command):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Sends an unrouted Command to one or more KeyNode actors, either by
routing by key, or broadcasting to all.</p><div class="fullcomment"><div class="comment cmt"><p>Sends an unrouted Command to one or more KeyNode actors, either by
routing by key, or broadcasting to all.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.KeyNode#run" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="run:KeyNode.this.CommandRunner"></a>
      <a id="run:CommandRunner"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">run</span><span class="result">: <a href="#CommandRunner=PartialFunction[String,Any]" class="extmbr" name="curiodb.KeyNode.CommandRunner">CommandRunner</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@run:KeyNode.this.CommandRunner" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Abstract definition of each Node actor's CommandRunner that must
be implemented.</p><div class="fullcomment"><div class="comment cmt"><p>Abstract definition of each Node actor's CommandRunner that must
be implemented. It's the partial function that matches a Command
name to the code that runs it.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="" class="extype" name="curiodb.KeyNode">KeyNode</a> → <a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.Node#runForAnyNode" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="runForAnyNode:Node.this.CommandRunner"></a>
      <a id="runForAnyNode:CommandRunner"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">runForAnyNode</span><span class="result">: <a href="#CommandRunner=PartialFunction[String,Any]" class="extmbr" name="curiodb.KeyNode.CommandRunner">CommandRunner</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@runForAnyNode:Node.this.CommandRunner" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Alternate Receive handler for all Node actors - these are internal
commands can run for any Node type, and are not validated in any
way, nor are they configured in commands.conf.</p><div class="fullcomment"><div class="comment cmt"><p>Alternate Receive handler for all Node actors - these are internal
commands can run for any Node type, and are not validated in any
way, nor are they configured in commands.conf. Currently used for
transaction begin (_MULTI) and commit (_EXEC).</p><p>When _MULTI is received and a transaction is beginning, we store
the current value in the transaction map against the transaction's
client ID. Subsequent commands within the transaction will then
read from and write to the transaction map, until it's committed
via the _EXEC command, at which point we copy the value from the
transaction map back to the main value, and remove it from the
transaction map.</p><p>The transaction may also timeout which is scheduled when _MULTI is
received. If this occurs and then _EXEC is received, we don't send
acknowledgement back to the ClientNode, so it can then deal with
its own timeout.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.PubSubServer#runPubSub" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="runPubSub:PubSubServer.this.CommandRunner"></a>
      <a id="runPubSub:CommandRunner"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">runPubSub</span><span class="result">: <a href="#CommandRunner=PartialFunction[String,Any]" class="extmbr" name="curiodb.KeyNode.CommandRunner">CommandRunner</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@runPubSub:PubSubServer.this.CommandRunner" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a></dd></dl></div>
    </li><li name="curiodb.Scripting#runScript" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="runScript(compiled:org.luaj.vm2.Prototype):Unit"></a>
      <a id="runScript(Prototype):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">runScript</span><span class="params">(<span name="compiled">compiled: <span class="extype" name="org.luaj.vm2.Prototype">Prototype</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@runScript(compiled:org.luaj.vm2.Prototype):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Runs a compiled Lua script by constructing a temporary
ScriptRunner actor, and sending it the orignal command
received so that it can eventually reply to it directly.</p><div class="fullcomment"><div class="comment cmt"><p>Runs a compiled Lua script by constructing a temporary
ScriptRunner actor, and sending it the orignal command
received so that it can eventually reply to it directly.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Scripting.html" class="extype" name="curiodb.Scripting">Scripting</a></dd></dl></div>
    </li><li name="curiodb.ScriptingServer#runScripting" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="runScripting:ScriptingServer.this.CommandRunner"></a>
      <a id="runScripting:CommandRunner"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">runScripting</span><span class="result">: <a href="#CommandRunner=PartialFunction[String,Any]" class="extmbr" name="curiodb.KeyNode.CommandRunner">CommandRunner</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@runScripting:ScriptingServer.this.CommandRunner" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">CommandRunner for ScriptingServer, which is given a distinct name,
so that KeyNode can compose together multiple CommandRunner
methods to form its own.</p><div class="fullcomment"><div class="comment cmt"><p>CommandRunner for ScriptingServer, which is given a distinct name,
so that KeyNode can compose together multiple CommandRunner
methods to form its own.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="ScriptingServer.html" class="extype" name="curiodb.ScriptingServer">ScriptingServer</a></dd></dl></div>
    </li><li name="curiodb.Node#save" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="save():Unit"></a>
      <a id="save():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">save</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@save():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">As discussed above, saves a snapshot.</p><div class="fullcomment"><div class="comment cmt"><p>As discussed above, saves a snapshot. If curiodb.persist-after is
zero or less (which means every change must cause a snapshot to be
saved), then just save a snapshot. Otherwise schedule the internal
Persist message to save a snapshot, if none has already been
scheduled, according to the value of the persisting var.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="akka.persistence.Snapshotter#saveSnapshot" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="saveSnapshot(snapshot:Any):Unit"></a>
      <a id="saveSnapshot(Any):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">saveSnapshot</span><span class="params">(<span name="snapshot">snapshot: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@saveSnapshot(snapshot:Any):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Snapshotter</dd></dl></div>
    </li><li name="curiodb.CommandProcessing#scan" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="scan(values:Iterable[String]):Seq[String]"></a>
      <a id="scan(Iterable[String]):Seq[String]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">scan</span><span class="params">(<span name="values">values: <span class="extype" name="scala.Iterable">Iterable</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@scan(values:Iterable[String]):Seq[String]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Utility for scan-style commands, namely SCAN/SSCAN/HSCAN/ZSCAN.</p><div class="fullcomment"><div class="comment cmt"><p>Utility for scan-style commands, namely SCAN/SSCAN/HSCAN/ZSCAN.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.ScriptingServer#scripts" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="scripts:scala.collection.mutable.Map[String,org.luaj.vm2.Prototype]"></a>
      <a id="scripts:Map[String,Prototype]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">lazy val</span>
      </span>
      <span class="symbol">
        <span class="name">scripts</span><span class="result">: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="org.luaj.vm2.Prototype">Prototype</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@scripts:scala.collection.mutable.Map[String,org.luaj.vm2.Prototype]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Compiled scripts stored on a KeyNode via the LOAD SCRIPT command.</p><div class="fullcomment"><div class="comment cmt"><p>Compiled scripts stored on a KeyNode via the LOAD SCRIPT command.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="ScriptingServer.html" class="extype" name="curiodb.ScriptingServer">ScriptingServer</a></dd></dl></div>
    </li><li name="akka.actor.Actor#self" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="self:akka.actor.ActorRef"></a>
      <a id="self:ActorRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">implicit final </span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">self</span><span class="result">: <span class="extype" name="akka.actor.ActorRef">ActorRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@self:akka.actor.ActorRef" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Actor</dd></dl></div>
    </li><li name="akka.actor.Actor#sender" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sender():akka.actor.ActorRef"></a>
      <a id="sender():ActorRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sender</span><span class="params">()</span><span class="result">: <span class="extype" name="akka.actor.ActorRef">ActorRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@sender():akka.actor.ActorRef" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Actor</dd></dl></div>
    </li><li name="curiodb.KeyNode#sleep" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sleep():Unit"></a>
      <a id="sleep():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sleep</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@sleep():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Called every time a command is run, only if sleeping is enabled
(via the curiodb.sleep-after config value), and initiates the
actor's sleeping process, whereby its value is persisted to disk
and then shut down.</p><div class="fullcomment"><div class="comment cmt"><p>Called every time a command is run, only if sleeping is enabled
(via the curiodb.sleep-after config value), and initiates the
actor's sleeping process, whereby its value is persisted to disk
and then shut down. The key's NodeEntry has its ActorRef then
set to None to signify a sleeping Node. When a command is next
run against the key, the actor for the Node is then recreated,
with its value restored from disk.
</p></div></div>
    </li><li name="curiodb.KeyNode#sleepAfter" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="sleepAfter:Int"></a>
      <a id="sleepAfter:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">sleepAfter</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@sleepAfter:Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Milliseconds after which a Node should persist its value to disk,
and shut down, (aka sleep).</p>
    </li><li name="curiodb.CommandProcessing#slice" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="slice[T](value:Seq[T]):Seq[T]"></a>
      <a id="slice[T](Seq[T]):Seq[T]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">slice</span><span class="tparams">[<span name="T">T</span>]</span><span class="params">(<span name="value">value: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="curiodb.CommandProcessing.slice.T">T</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="curiodb.CommandProcessing.slice.T">T</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@slice[T](value:Seq[T]):Seq[T]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Utility for slicing sequences, for commands such as SLICE,
GETRANGE, LRANGE, etc.</p><div class="fullcomment"><div class="comment cmt"><p>Utility for slicing sequences, for commands such as SLICE,
GETRANGE, LRANGE, etc.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="akka.persistence.PersistenceIdentity#snapshotPluginId" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="snapshotPluginId:String"></a>
      <a id="snapshotPluginId:String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">snapshotPluginId</span><span class="result">: <span class="extype" name="scala.Predef.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@snapshotPluginId:String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>PersistenceIdentity</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#snapshotSequenceNr" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="snapshotSequenceNr:Long"></a>
      <a id="snapshotSequenceNr:Long"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">snapshotSequenceNr</span><span class="result">: <span class="extype" name="scala.Long">Long</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@snapshotSequenceNr:Long" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced → Snapshotter</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#snapshotterId" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="snapshotterId:String"></a>
      <a id="snapshotterId:String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">snapshotterId</span><span class="result">: <span class="extype" name="scala.Predef.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@snapshotterId:String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced → Snapshotter</dd></dl></div>
    </li><li name="curiodb.KeyNode#sort" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sort():Any"></a>
      <a id="sort():Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sort</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@sort():Any" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Handles the bridge between the external SORT and internal _SORT
commands.</p><div class="fullcomment"><div class="comment cmt"><p>Handles the bridge between the external SORT and internal _SORT
commands. This is essentially a work around given that we only
allow external (client facing) commands to map to a single type
of Node.
</p></div></div>
    </li><li name="curiodb.Node#sort" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sort(values:Iterable[String]):Any"></a>
      <a id="sort(Iterable[String]):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sort</span><span class="params">(<span name="values">values: <span class="extype" name="scala.Iterable">Iterable</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@sort(values:Iterable[String]):Any" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Handles the SORT command.</p><div class="fullcomment"><div class="comment cmt"><p>Handles the SORT command. Defined here since it can be run against
multiple Node types, namely ListNode, SetNode and SortedSetNode.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="akka.actor.StashSupport#stash" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="stash():Unit"></a>
      <a id="stash():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">stash</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@stash():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>StashSupport</dd></dl></div>
    </li><li name="curiodb.CommandProcessing#stop" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="stop():Unit"></a>
      <a id="stop():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">stop</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@stop():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Stops the actor - we define this shortcut to give subclassing traits
the chance to override it and inject extra shutdown behavior that
concrete actors need not know about.</p><div class="fullcomment"><div class="comment cmt"><p>Stops the actor - we define this shortcut to give subclassing traits
the chance to override it and inject extra shutdown behavior that
concrete actors need not know about. Note we wrap context.stop with
Try here since it may be called twice due to transaction timeouts.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></dd></dl></div>
    </li><li name="curiodb.PubSubServer#subscribeOrUnsubscribe" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="subscribeOrUnsubscribe():Unit"></a>
      <a id="subscribeOrUnsubscribe():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">subscribeOrUnsubscribe</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@subscribeOrUnsubscribe():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Handles subscribe and unsubscribe to both channels and patterns.</p><div class="fullcomment"><div class="comment cmt"><p>Handles subscribe and unsubscribe to both channels and patterns.
Responsible for omitting PubSubEvent messages back to the
ClientNode when a change in subscription occurs.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a></dd></dl></div>
    </li><li name="akka.actor.Actor#supervisorStrategy" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="supervisorStrategy:akka.actor.SupervisorStrategy"></a>
      <a id="supervisorStrategy:SupervisorStrategy"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">supervisorStrategy</span><span class="result">: <span class="extype" name="akka.actor.SupervisorStrategy">SupervisorStrategy</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@supervisorStrategy:akka.actor.SupervisorStrategy" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Actor</dd></dl></div>
    </li><li name="scala.AnyRef#synchronized" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="synchronized[T0](x$1:=&gt;T0):T0"></a>
      <a id="synchronized[T0](⇒T0):T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: ⇒ <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>)</span><span class="result">: <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@synchronized[T0](x$1:=&gt;T0):T0" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#toString" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="toString():String"></a>
      <a id="toString():String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">toString</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@toString():String" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="curiodb.KeyNode#transactionKeys" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="transactionKeys:scala.collection.mutable.Map[String,String]"></a>
      <a id="transactionKeys:Map[String,String]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">transactionKeys</span><span class="result">: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.Predef.String">String</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@transactionKeys:scala.collection.mutable.Map[String,String]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Current keys in transaction mapped to client IDs.</p><div class="fullcomment"><div class="comment cmt"><p>Current keys in transaction mapped to client IDs.
See transactionAcknowledge/transactionClose for more detail.
</p></div></div>
    </li><li name="curiodb.Node#transactionTimeout" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="transactionTimeout:Int"></a>
      <a id="transactionTimeout:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">transactionTimeout</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@transactionTimeout:Int" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Stores the duration which controls the amount of time we allow
a transaction to exist for.</p><div class="fullcomment"><div class="comment cmt"><p>Stores the duration which controls the amount of time we allow
a transaction to exist for. This ensures that if for some reason
the transaction does not complete, it can start handling write
commands again.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.KeyNode#ttl" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ttl:Long"></a>
      <a id="ttl:Long"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">ttl</span><span class="result">: <span class="extype" name="scala.Long">Long</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@ttl:Long" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Retrieves the milliseconds remaining until expiry occurs for a key
when the TTL/PTTL commands are run.</p>
    </li><li name="akka.persistence.Eventsourced#unhandled" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="unhandled(message:Any):Unit"></a>
      <a id="unhandled(Any):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">unhandled</span><span class="params">(<span name="message">message: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@unhandled(message:Any):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced → Actor</dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#unstashAll" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="unstashAll():Unit"></a>
      <a id="unstashAll():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">unstashAll</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@unstashAll():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced → StashSupport</dd></dl></div>
    </li><li name="curiodb.KeyNode#validate" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="validate:Option[Any]"></a>
      <a id="validate:Option[Any]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">validate</span><span class="result">: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Any">Any</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@validate:Option[Any]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Validates that the key and command for the current Command can be
run.</p><div class="fullcomment"><div class="comment cmt"><p>Validates that the key and command for the current Command can be
run. This boils down to ensuring the command belongs to the type
of Node mapped to the key, and that the Node must or musn't exist,
given the particular command. Optionally returns an error, or a
default value if the Node doesn't exist and a default is defined
(as per commands.conf). Otherwise if validation passes, None is
returned, indicating the command should be sent to the key's
Node. Also validates that for write commands, the keys for the
command aren't part of an existing transaction - if this occurs,
the commands gets stashed until the transaction has completed.
</p></div></div>
    </li><li name="curiodb.Node#value" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="value:T"></a>
      <a id="value:Map[String,Map[String,NodeEntry]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">value</span><span class="result">: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@value:T" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Value getter according to the configured transaction isolation
level:</p><div class="fullcomment"><div class="comment cmt"><p>Value getter according to the configured transaction isolation
level:</p><p>- repeatable:  should always return the value of the current transaction
- uncommitted: always returns the newest written value, even if uncommitted
- committed:   always return the commit value, even inside a transaction</p><p>Note that there is no &quot;serializable&quot; level since there is no notion of
a range query. You can read more info on isolation levels here:
https://en.wikipedia.org/wiki/Isolation_(database_systems)
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.Node#value_=" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="value_=(value:T):Unit"></a>
      <a id="value_=(Map[String,Map[String,NodeEntry]]):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: value_$eq" class="name">value_=</span><span class="params">(<span name="value">value: <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]</span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@value_=(value:T):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Value setter - writes the current value, either to the main
key, or a client ID if in a transaction.</p><div class="fullcomment"><div class="comment cmt"><p>Value setter - writes the current value, either to the main
key, or a client ID if in a transaction.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="curiodb.Node#values" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="values:scala.collection.mutable.LinkedHashMap[String,T]"></a>
      <a id="values:LinkedHashMap[String,Map[String,Map[String,NodeEntry]]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">values</span><span class="result">: <span class="extype" name="scala.collection.mutable.LinkedHashMap">LinkedHashMap</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@values:scala.collection.mutable.LinkedHashMap[String,T]" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">MVCC map of transaction values for the Node mapped to client IDs,
including the committed &quot;main&quot; value, which is identified with
an empty string as its key.</p><div class="fullcomment"><div class="comment cmt"><p>MVCC map of transaction values for the Node mapped to client IDs,
including the committed &quot;main&quot; value, which is identified with
an empty string as its key. LinkedHashMap is used so that we can
access the most recently written value when transaction isolation
is configued as read-uncommitted.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="Node.html" class="extype" name="curiodb.Node">Node</a></dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait():Unit"></a>
      <a id="wait():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@wait():Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long,x$2:Int):Unit"></a>
      <a id="wait(Long,Int):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Long">Long</span></span>, <span name="arg1">arg1: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@wait(x$1:Long,x$2:Int):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long):Unit"></a>
      <a id="wait(Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@wait(x$1:Long):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="curiodb.KeyNode#wrongType" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="wrongType:curiodb.ErrorReply"></a>
      <a id="wrongType:ErrorReply"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">val</span>
      </span>
      <span class="symbol">
        <span class="name">wrongType</span><span class="result">: <a href="ErrorReply.html" class="extype" name="curiodb.ErrorReply">ErrorReply</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@wrongType:curiodb.ErrorReply" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Error message sent to ClientNode when a command is issued against
an existing key that contains a different type of node than the
type that the command belongs to.</p>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Deprecated Value Members</h3>
              <ol><li name="akka.persistence.Eventsourced#persist" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persist[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit"></a>
      <a id="persist[A](Seq[A])((A)⇒Unit):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name deprecated" title="Deprecated: (Since version 2.4) use persistAll instead">persist</span><span class="tparams">[<span name="A">A</span>]</span><span class="params">(<span name="events">events: <span class="extype" name="scala.collection.immutable.Seq">Seq</span>[<span class="extype" name="akka.persistence.Eventsourced.persist.A">A</span>]</span>)</span><span class="params">(<span name="handler">handler: (<span class="extype" name="akka.persistence.Eventsourced.persist.A">A</span>) ⇒ <span class="extype" name="scala.Unit">Unit</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persist[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd><dt>Annotations</dt><dd>
                <span class="name">@deprecated</span>
              
        </dd><dt>Deprecated</dt><dd class="cmt"><p><i>(Since version 2.4)</i> use persistAll instead</p></dd></dl></div>
    </li><li name="akka.persistence.Eventsourced#persistAsync" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="persistAsync[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit"></a>
      <a id="persistAsync[A](Seq[A])((A)⇒Unit):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name deprecated" title="Deprecated: (Since version 2.4) use persistAllAsync instead">persistAsync</span><span class="tparams">[<span name="A">A</span>]</span><span class="params">(<span name="events">events: <span class="extype" name="scala.collection.immutable.Seq">Seq</span>[<span class="extype" name="akka.persistence.Eventsourced.persistAsync.A">A</span>]</span>)</span><span class="params">(<span name="handler">handler: (<span class="extype" name="akka.persistence.Eventsourced.persistAsync.A">A</span>) ⇒ <span class="extype" name="scala.Unit">Unit</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#curiodb.KeyNode@persistAsync[A](events:scala.collection.immutable.Seq[A])(handler:A=&gt;Unit):Unit" title="Permalink" target="_top">
        <img src="../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Eventsourced</dd><dt>Annotations</dt><dd>
                <span class="name">@deprecated</span>
              
        </dd><dt>Deprecated</dt><dd class="cmt"><p><i>(Since version 2.4)</i> use persistAllAsync instead</p></dd></dl></div>
    </li></ol>
            </div>
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="curiodb.ScriptingServer">
              <h3>Inherited from <a href="ScriptingServer.html" class="extype" name="curiodb.ScriptingServer">ScriptingServer</a></h3>
            </div><div class="parent" name="curiodb.Scripting">
              <h3>Inherited from <a href="Scripting.html" class="extype" name="curiodb.Scripting">Scripting</a></h3>
            </div><div class="parent" name="curiodb.PubSubServer">
              <h3>Inherited from <a href="PubSubServer.html" class="extype" name="curiodb.PubSubServer">PubSubServer</a></h3>
            </div><div class="parent" name="curiodb.Node">
              <h3>Inherited from <a href="Node.html" class="extype" name="curiodb.Node">Node</a>[<span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.collection.mutable.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="NodeEntry.html" class="extype" name="curiodb.NodeEntry">NodeEntry</a>]]]</h3>
            </div><div class="parent" name="akka.actor.ActorLogging">
              <h3>Inherited from <span class="extype" name="akka.actor.ActorLogging">ActorLogging</span></h3>
            </div><div class="parent" name="curiodb.CommandProcessing">
              <h3>Inherited from <a href="CommandProcessing.html" class="extype" name="curiodb.CommandProcessing">CommandProcessing</a></h3>
            </div><div class="parent" name="akka.persistence.PersistentActor">
              <h3>Inherited from <span class="extype" name="akka.persistence.PersistentActor">PersistentActor</span></h3>
            </div><div class="parent" name="akka.persistence.Eventsourced">
              <h3>Inherited from <span class="extype" name="akka.persistence.Eventsourced">Eventsourced</span></h3>
            </div><div class="parent" name="akka.persistence.PersistenceRecovery">
              <h3>Inherited from <span class="extype" name="akka.persistence.PersistenceRecovery">PersistenceRecovery</span></h3>
            </div><div class="parent" name="akka.persistence.PersistenceIdentity">
              <h3>Inherited from <span class="extype" name="akka.persistence.PersistenceIdentity">PersistenceIdentity</span></h3>
            </div><div class="parent" name="akka.actor.StashFactory">
              <h3>Inherited from <span class="extype" name="akka.actor.StashFactory">StashFactory</span></h3>
            </div><div class="parent" name="akka.actor.Stash">
              <h3>Inherited from <span class="extype" name="akka.actor.Stash">Stash</span></h3>
            </div><div class="parent" name="akka.dispatch.RequiresMessageQueue">
              <h3>Inherited from <span class="extype" name="akka.dispatch.RequiresMessageQueue">RequiresMessageQueue</span>[<span class="extype" name="akka.dispatch.DequeBasedMessageQueueSemantics">DequeBasedMessageQueueSemantics</span>]</h3>
            </div><div class="parent" name="akka.actor.UnrestrictedStash">
              <h3>Inherited from <span class="extype" name="akka.actor.UnrestrictedStash">UnrestrictedStash</span></h3>
            </div><div class="parent" name="akka.actor.StashSupport">
              <h3>Inherited from <span class="extype" name="akka.actor.StashSupport">StashSupport</span></h3>
            </div><div class="parent" name="akka.persistence.Snapshotter">
              <h3>Inherited from <span class="extype" name="akka.persistence.Snapshotter">Snapshotter</span></h3>
            </div><div class="parent" name="akka.actor.Actor">
              <h3>Inherited from <span class="extype" name="akka.actor.Actor">Actor</span></h3>
            </div><div class="parent" name="scala.AnyRef">
              <h3>Inherited from <span class="extype" name="scala.AnyRef">AnyRef</span></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <span class="extype" name="scala.Any">Any</span></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
